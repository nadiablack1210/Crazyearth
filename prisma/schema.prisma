generator client {
  provider   = "prisma-client"
  output     = "../src/generated/prisma"
  engineType = "client"
}


datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}


model AdminUser {
  id        String   @id @default(cuid())
  email     String   @unique
  role      String   @default("admin") // admin, editor, etc.
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Casino {
  id          String   @id @default(cuid())
  country     String
  slug        String
  title       String
  description String
  category    String
  tags        String[] @default([])
  imageUrl    String?
  rating      Float?
  bonus       String?
  ctaUrl      String?
  content     String?
  publishedAt DateTime?
  isPublished Boolean  @default(false)

  // ✅ add these
  isTop       Boolean  @default(false)
  rank        Int?     // for ordering top 10

  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@unique([country, slug])
  @@index([country])
  @@index([isPublished])

  // ✅ add these indexes (optional but good)
  @@index([isTop])
  @@index([rank])
}


model News {
  id          String   @id @default(cuid())
  country     String
  slug        String
  title       String
  excerpt     String?
  content     String?
  imageUrl    String?
  tags        String[] @default([])
  publishedAt DateTime?
  isPublished Boolean  @default(false)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@unique([country, slug])
  @@index([country])
  @@index([isPublished])
}
